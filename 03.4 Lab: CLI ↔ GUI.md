**1. Check Your Current Desktop Environment**

```bash
# Check the current desktop session
echo $XDG_CURRENT_DESKTOP
```

<img width="800" height="117" alt="Screenshot 2025-12-15 at 1 34 47 PM" src="https://github.com/user-attachments/assets/a5245ace-e2cc-4998-a2e5-de97ebb30135" />

```
# Check desktop session type
echo $XDG_SESSION_DESKTOP

# Check session type (X11 or Wayland)
echo $XDG_SESSION_TYPE
```
> X11 is the legacy display server protocol used for decades in Linux systems, while Wayland is its modern successor designed to offer improved performance, security, and simplicity.

**Switch Default Boot Target to CLI (Multi User Mode)**
```
sudo systemctl set-default multi-user.target
```

---

**2. Safely Remove Desktop Environment and Convert to CLI (Optional)**

   - This will remove your graphical interface. Ensure you're comfortable with CLI before proceeding.

>**Backup Important Data First**
>```bash
># Create backup directory
>mkdir -p ~/backup_before_cli
>
># Backup user configurations
>cp -r ~/.config ~/backup_before_cli/
>cp -r ~/.local ~/backup_before_cli/
>cp ~/.bashrc ~/.profile ~/backup_before_cli/ 2>/dev/null
>
># List installed packages for potential restoration
>dpkg --get-selections > ~/backup_before_cli/installed_packages.txt  # Debian/Ubuntu
>rpm -qa > ~/backup_before_cli/installed_packages.txt                # RHEL/CentOS/Fedora
>```

---

# GUI -> CLI

**For Ubuntu/Debian Systems**

**Remove GNOME**
```bash
# Remove GNOME packages
sudo apt remove --purge ubuntu-desktop gnome-shell gnome-session gnome-desktop3-data
sudo apt remove --purge gdm3 gnome-control-center gnome-terminal
sudo apt remove --purge gnome-* ubuntu-desktop-minimal

# Clean up dependencies
sudo apt autoremove --purge
sudo apt autoclean
```

**Remove KDE Plasma**
```bash
# Remove KDE packages
sudo apt remove --purge kubuntu-desktop kde-plasma-desktop plasma-desktop
sudo apt remove --purge sddm kwin-x11 kwin-wayland
sudo apt remove --purge kde-* plasma-*

# Clean up
sudo apt autoremove --purge
```

**Remove XFCE**
```bash
# Remove XFCE packages
sudo apt remove --purge xubuntu-desktop xfce4 xfce4-*
sudo apt remove --purge lightdm lightdm-gtk-greeter

# Clean up
sudo apt autoremove --purge
```

**For RHEL/CentOS/Fedora Systems**

**Remove GNOME**
```bash
# Remove GNOME and Display Manager for GDM (GNOME Display Manager):
sudo dnf groupremove "Server with GUI" "Workstation" "GNOME"
sudo systemctl disable gdm                                    
sudo dnf remove gdm -y

# If the login screen appears, power off the device and then power it on again.

# Clean up
sudo dnf autoremove
```

**Remove KDE**
```bash
# Remove KDE group
sudo dnf group remove "KDE Plasma Workspaces"
sudo dnf remove sddm kwin

# Clean up
sudo dnf autoremove
```

---

**Final CLI Conversion Steps**
```bash
# Set default target to multi user (CLI)
sudo systemctl set-default multi-user.target

# Remove remaining GUI components (Optional)
sudo apt remove --purge xorg-* x11-*     # Ubuntu/Debian
sudo dnf remove xorg-x11-*               # RHEL/Fedora

# Verify no display managers are enabled
sudo systemctl list-unit-files | grep -E "(gdm|sddm|lightdm|xdm)"
```

---

# CLI -> GUI

   - To go back to the Desktop Environment from the CLI, you'll need to reinstall and reconfigure the desktop environment and display manager you want to use. Here’s how to do it:

**1. Reinstall a Display Manager and a Desktop Environment**
   - Depending on your Linux distribution and preferred desktop environment, follow these instructions.

**For Ubuntu/Debian Systems**
1. **Update Package Manager**
   ```bash
   sudo apt update
   sudo apt upgrade
   ```

2. **Install a Display Manager**
   Choose one:
   - For GNOME:
     ```bash
     sudo apt install gdm3
     ```
   - For KDE Plasma:
     ```bash
     sudo apt install sddm
     ```
   - For XFCE:
     ```bash
     sudo apt install lightdm
     ```
> During installation, you will be prompted to choose the default display manager. Select the display manager of your choice (e.g., `gdm3`, `sddm`, or `lightdm`).

3. **Install Desired Desktop Environment**
   - GNOME:
     ```bash
     sudo apt install ubuntu-desktop
     ```
   - KDE Plasma:
     ```bash
     sudo apt install kubuntu-desktop
     ```
   - XFCE:
     ```bash
     sudo apt install xubuntu-desktop
     ```

4. **Enable GUI Boot Target**
   ```bash
   sudo systemctl set-default graphical.target
   ```

5. **Reboot**
   ```bash
   sudo reboot
   ```
   
<img width="804" height="601" alt="Screenshot 2025-12-15 at 1 31 42 PM" src="https://github.com/user-attachments/assets/220d2e6f-b5f1-4d35-a794-01eb0b41c011" />

---

**For RHEL/CentOS/Fedora**
1. **Update Package Manager**
   ```bash
   sudo dnf update
   ```

2. **Reinstall a Display Manager**
   Choose one:
   - GNOME (default is `gdm`):
     ```bash
     sudo dnf -y install gdm
     ```
     
   - KDE Plasma (`sddm`):
     ```bash
     sudo dnf -y install sddm
     ```

   - Enable the display manager:
   ```bash
   sudo systemctl enable gdm                # Use 'sddm' for KDE
   ```

3. **Install a Desktop Environment**
   - GNOME:
     ```bash
     sudo dnf groupinstall "Server with GUI"
     ```
   - KDE Plasma:
     ```bash
     sudo dnf groupinstall "KDE Plasma Workspaces"
     ```
   - XFCE:
     ```bash
     sudo dnf groupinstall "Xfce"
     ```

4. **Set GUI Boot Target**
   ```bash
   sudo systemctl set-default graphical.target
   ```

5. **Reboot**
   ```bash
   sudo reboot
   ```

---

**Verify the Installation**
After rebooting, you should see the graphical login screen, and you can log into your desktop environment.

**If you encounter issues:**
- Verify the default target is correct:
  ```bash
  sudo systemctl get-default
  ```
  Ensure it's set to `graphical.target`.
  
- Check the status of your display manager:
  ```bash
  sudo systemctl status gdm                  # Replace 'gdm' with 'sddm' or 'lightdm', as needed
  ```
  
- If the GUI does not start, review system logs:
  ```bash
  journalctl -xe
  ```
  
  ---
