**1. Check Your Current Desktop Environment**

- Method 1: Environment Variables
```bash
# Check the current desktop session
echo $XDG_CURRENT_DESKTOP

# Check desktop session type
echo $XDG_SESSION_DESKTOP

# Check session type (X11 or Wayland)
echo $XDG_SESSION_TYPE
```
> X11 is the legacy display server protocol used for decades in Linux systems, while Wayland is its modern successor designed to offer improved performance, security, and simplicity.

---

**2. Safely Remove Desktop Environment and Convert to CLI**

> **WARNING**: This will remove your graphical interface. Ensure you're comfortable with CLI before proceeding.

**Backup Important Data First**
```bash
# Create backup directory
mkdir -p ~/backup_before_cli

# Backup user configurations
cp -r ~/.config ~/backup_before_cli/
cp -r ~/.local ~/backup_before_cli/
cp ~/.bashrc ~/.profile ~/backup_before_cli/ 2>/dev/null

# List installed packages for potential restoration
dpkg --get-selections > ~/backup_before_cli/installed_packages.txt  # Debian/Ubuntu
rpm -qa > ~/backup_before_cli/installed_packages.txt                # RHEL/CentOS/Fedora
```

**For Ubuntu/Debian Systems**

**Remove GNOME**
```bash
# Stop display manager first
sudo systemctl stop gdm3
sudo systemctl disable gdm3

# Remove GNOME packages
sudo apt remove --purge ubuntu-desktop gnome-shell gnome-session gnome-desktop3-data
sudo apt remove --purge gdm3 gnome-control-center gnome-terminal
sudo apt remove --purge gnome-* ubuntu-desktop-minimal

# Clean up dependencies
sudo apt autoremove --purge
sudo apt autoclean
```

**Remove KDE Plasma**
```bash
# Stop display manager
sudo systemctl stop sddm
sudo systemctl disable sddm

# Remove KDE packages
sudo apt remove --purge kubuntu-desktop kde-plasma-desktop plasma-desktop
sudo apt remove --purge sddm kwin-x11 kwin-wayland
sudo apt remove --purge kde-* plasma-*

# Clean up
sudo apt autoremove --purge
```

**Remove XFCE**
```bash
# Stop display manager
sudo systemctl stop lightdm
sudo systemctl disable lightdm

# Remove XFCE packages
sudo apt remove --purge xubuntu-desktop xfce4 xfce4-*
sudo apt remove --purge lightdm lightdm-gtk-greeter

# Clean up
sudo apt autoremove --purge
```

**For RHEL/CentOS/Fedora Systems**

**Remove GNOME**
```bash
# Stop display manager
sudo systemctl stop gdm
sudo systemctl disable gdm

# Remove GNOME group
sudo dnf group remove "GNOME Desktop Environment"
sudo dnf remove gnome-shell gdm gnome-session

# Clean up
sudo dnf autoremove
```

**Remove KDE**
```bash
# Stop display manager
sudo systemctl stop sddm
sudo systemctl disable sddm

# Remove KDE group
sudo dnf group remove "KDE Plasma Workspaces"
sudo dnf remove sddm kwin

# Clean up
sudo dnf autoremove
```

---

**Final CLI Conversion Steps**
```bash
# Set default target to multi-user (CLI)
sudo systemctl set-default multi-user.target

# Remove remaining GUI components
sudo apt remove --purge xorg-* x11-*     # Ubuntu/Debian
sudo dnf remove xorg-x11-*               # RHEL/Fedora

# Verify no display managers are enabled
sudo systemctl list-unit-files | grep -E "(gdm|sddm|lightdm|xdm)"

# Reboot to CLI mode
sudo reboot
```

---
To go back to the Desktop Environment from the CLI, you'll need to reinstall and reconfigure the desktop environment and display manager you want to use. Hereâ€™s how to do it:

---

**1. Reinstall a Display Manager and a Desktop Environment**
Depending on your Linux distribution and preferred desktop environment, follow these instructions.

**For Ubuntu/Debian Systems**
1. **Update Package Manager**
   ```bash
   sudo apt update
   sudo apt upgrade
   ```

2. **Install a Display Manager**
   Choose one:
   - For GNOME:
     ```bash
     sudo apt install gdm3
     ```
   - For KDE Plasma:
     ```bash
     sudo apt install sddm
     ```
   - For XFCE:
     ```bash
     sudo apt install lightdm
     ```
   During installation, you will be prompted to choose the default display manager. Select the display manager of your choice (e.g., `gdm3`, `sddm`, or `lightdm`).

3. **Install Desired Desktop Environment**
   - GNOME:
     ```bash
     sudo apt install ubuntu-desktop
     ```
   - KDE Plasma:
     ```bash
     sudo apt install kubuntu-desktop
     ```
   - XFCE:
     ```bash
     sudo apt install xubuntu-desktop
     ```

4. **Enable GUI Boot Target**
   ```bash
   sudo systemctl set-default graphical.target
   ```

5. **Reboot**
   ```bash
   sudo reboot
   ```

---

**For RHEL/CentOS/Fedora**
1. **Update Package Manager**
   ```bash
   sudo dnf update
   ```

2. **Reinstall a Display Manager**
   Choose one:
   - GNOME (default is `gdm`):
     ```bash
     sudo dnf install gdm
     ```
   - KDE Plasma (`sddm`):
     ```bash
     sudo dnf install sddm
     ```

   Enable the display manager:
   ```bash
   sudo systemctl enable gdm    # Use 'sddm' for KDE
   ```

3. **Install a Desktop Environment**
   - GNOME:
     ```bash
     sudo dnf groupinstall "Workstation"
     ```
   - KDE Plasma:
     ```bash
     sudo dnf groupinstall "KDE Plasma Workspaces"
     ```
   - XFCE:
     ```bash
     sudo dnf groupinstall "Xfce"
     ```

4. **Set GUI Boot Target**
   ```bash
   sudo systemctl set-default graphical.target
   ```

5. **Reboot**
   ```bash
   sudo reboot
   ```

---

**2. Verify the Installation**
After rebooting, you should see the graphical login screen, and you can log into your desktop environment.

If you encounter issues:
- Verify the default target is correct:
  ```bash
  sudo systemctl get-default
  ```
  Ensure it's set to `graphical.target`.
- Check the status of your display manager:
  ```bash
  sudo systemctl status gdm   # Replace 'gdm' with 'sddm' or 'lightdm', as needed
  ```
- If the GUI does not start, review system logs:
  ```bash
  journalctl -xe
  ```
  
  ---
