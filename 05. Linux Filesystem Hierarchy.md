## Linux Filesystem Hierarchy

Red Hat Enterprise Linux follows the Filesystem Hierarchy Standard (FHS), ensuring a consistent directory structure across Linux distributions.

<img width="1003" height="379" alt="Screenshot 2025-12-01 at 12 06 15 PM" src="https://github.com/user-attachments/assets/7d28f3d0-530e-42f0-b192-6cc2d0ef1e4e" />

- Linux uses a single inverted tree beginning at the root directory (/). Everything (devices, mounted filesystems, files, directories) appears under this tree.
- Many conventions come from the FHS; implementations may vary across distributions and versions; always confirm on the target system if exact placement matters.

**1. / (root)**
- Top level directory containing all other directories.
- Contains essential directories and mount points created during installation.
<img width="1215" height="563" alt="Screenshot 2025-12-01 at 1 29 55 PM" src="https://github.com/user-attachments/assets/3b2b5652-3d97-44f2-ba76-543928636823" />


**2. /bin (essential user binaries)**
- Contains essential user command binaries needed in single user mode or for basic recovery: e.g., `ls`, `cp`, `mv`, `cat`.
- Intention: minimal set available even if other filesystems are not mounted.
- Note: Some distributions use a "merged /usr" layout where `/bin` is a symlink to `/usr/bin`. This is distribution dependent; check with:
```bash
ls -l /bin
```

**3. /boot (bootloader files)**
- Kernel images (vmlinuz), initramfs images, and bootloader config (e.g., GRUB) are stored here.
- Often on its own small partition (especially with LVM/crypt setups or multi boot systems).
<img width="860" height="483" alt="Screenshot 2025-12-01 at 1 31 35 PM" src="https://github.com/user-attachments/assets/7cb037b7-44a0-4cd9-a0cf-c03b49df7479" />


**4. /dev (device nodes)**
- Special device files representing hardware and kernel interfaces (block and character devices, pseudo-devices).
- These are device nodes managed by udev (dynamic, not static files on disk).
- /dev holds device files for hardware and kernel interfaces, such as: vda* for virtual disks; dm-* for device-mapper/LVM; tty*/ttyS* for terminals and serial ports; null for data sink; zero for zeros; random/urandom for RNG; hidraw* for USB HID; usbmon* for USB monitor; sr0 for CD/DVD; lp* for printers; ppp for PPP interface, and the vhost-*/virtio-ports for virtualization I/O.
<img width="777" height="448" alt="Screenshot 2025-12-04 at 6 29 21 AM" src="https://github.com/user-attachments/assets/b23290b9-05d1-4672-8e1e-12f5ff6913f4" />


**5. /etc (system configuration)**
- System wide configuration files and subdirectories for services and daemons.
- Typically small, textual files edited by administrators or managed via configuration management.

**6. /home (user home directories)**
- Per user home directories (e.g., `/home/cnode`).
- Personal files and per user configuration (e.g., `~/.bashrc`, `~/.config/`).
<img width="796" height="331" alt="Screenshot 2025-12-04 at 6 30 49 AM" src="https://github.com/user-attachments/assets/0dfd51ca-cfda-4db8-a9e3-de554659aa8e" />

**7. /lib and /lib64 (shared libraries)**
- Shared libraries required by programs in `/bin` and `/sbin`.
- On multi architecture systems:
  - `/lib` historically used for essential libraries (32-bit on some systems).
  - `/lib64` used for 64-bit libraries on 64-bit systems.
- Distribution behavior varies: some systems use `/lib` and `/lib64` separately, others use symlinks. Check what your system uses (e.g., `ls -l /lib /lib64`).

**8. /media and /mnt (mount points)**
- `/media`: Commonly used by desktop environments for automatic mounts of removable media (USB sticks, CD-ROMs).
- `/mnt`: Conventional location for administrators to perform temporary manual mounts. Use subdirectories (e.g., `/mnt/backup`) for clarity.

**9. /opt (optional/third party packages)**
- Optional, self contained third party packages and large add on applications often live here (e.g., vendor bundles).
- Useful for software that should remain isolated from distribution managed packaging.
<img width="797" height="270" alt="Screenshot 2025-12-04 at 6 35 40 AM" src="https://github.com/user-attachments/assets/2f79744f-3367-42ca-a9f7-94a0848b14e6" />

**10. /proc (kernel and process information)**
- Virtual filesystem (procfs) exported by the kernel. Not stored on disk.
- Provides per process info (`/proc/<pid>/`) and system info (`/proc/meminfo`, `/proc/cpuinfo`).
```bash
cat /proc/meminfo   # view kernel memory statistics
```

**11. /root (root user's home)**
- Home directory for the superuser (root). Distinct from `/` (the root of the filesystem tree).

**12. /sbin (system administration binaries)**
- System administration binaries intended for the system administrator (root). Examples: `fsck`, `ip`, `reboot`.
- On many modern systems, these may be symlinked to `/usr/sbin` as part of a `/usr`-merged layout. Root’s PATH typically includes `/sbin` and `/usr/sbin`.

**13. /srv (service data)**
- FHS designated place for data served by system services (e.g., site specific web or ftp content).
- Practically, many distributions and applications still place web content under `/var/www` (or `/var/www/html`) — check the web server configuration for the system’s actual document root.

**14. /tmp (temporary files)**
- Temporary files for applications and users.
- Usually world writable with the sticky bit set (so files can only be removed by their owners).
- Important: /tmp may be cleaned at boot on some systems, but this is not guaranteed everywhere. Systems often use systemd-tmpfiles or cron jobs to manage cleanup. If you need guaranteed persistence across reboots, do not use /tmp.
![Screenshot 2025-12-04 at 6 40 04 AM](https://github.com/user-attachments/assets/4ac29d7d-517b-4666-a46f-51aa1ac862e1)


**15. /usr (user utilities, libraries, and shareable, read only data)**
- Contains the majority of multi user utilities and applications:
  - `/usr/bin` - non essential user binaries
  - `/usr/sbin` — non essential system/admin binaries
  - `/usr/lib` and `/usr/lib64` — libraries for `/usr` programs
  - `/usr/share` — architecture independent data (man pages, icons)
- Historically `/usr` could be on a separate read only partition (NFS-boot, multi-boot setups); many modern distributions merge `/usr` into the root filesystem.

**16. /var (variable data)**
- Variable runtime data: logs, mail spools, print queues, caches, application state, web content (commonly `/var/www`).
```bash
ls /var/log    # view system logs
```
<img width="805" height="393" alt="Screenshot 2025-12-04 at 6 42 34 AM" src="https://github.com/user-attachments/assets/ec90ffa5-4e47-46d3-bdb7-0dec800bf046" />


**17. /run (runtime state since last boot)**
- Runtime files (PID files, sockets, locks, runtime state). Implemented as a tmpfs (in memory) on most modern systems.
- Replaced or complements the older `/var/run` — many distributions provide `/var/run` as a symlink to `/run`.

<img width="351" height="183" alt="Screenshot 2025-12-04 at 6 43 28 AM" src="https://github.com/user-attachments/assets/22b2b7cd-7d9d-4a74-9fef-fdfcc092f7f3" />

**Other useful virtual filesystems**
- /sys — sysfs, kernel object hierarchy exported by the kernel (virtual, not on disk).
- /proc and /sys together provide much of the runtime introspection for system tooling.

Examples:
- Is /bin a symlink to /usr/bin?
```bash
[ -L /bin ] && echo "/bin is a symlink" || echo "/bin is not a symlink"
```
- Is /run a tmpfs?
```bash
mount | grep " on /run "
```

---

**Linux Directory Purposes**

| Directory | Primary Purpose | Content Type (RHEL Focus) |
| :--- | :--- | :--- |
| **`/`** | **Root.** Anchor of the entire filesystem hierarchy. | N/A |
| **`/bin`** | **Essential User Binaries.** Core commands needed for system operation and single user mode boot/repair (e.g., `ls`, `cp`, `bash`). In RHEL 7+, a symlink to `/usr/bin`. | Static, Persistent. |
| **`/boot`** | **Static Boot Loader Files.** Contains the bootloader (GRUB), kernel images (`vmlinuz`), and initial RAM disk (`initramfs`). | Static, Persistent. |
| **`/dev`** | **Device Files.** Contains special files representing physical/virtual hardware devices (e.g., `/dev/sda`, `/dev/tty`, `/dev/null`). A virtual filesystem (`devtmpfs`). | Dynamic, Runtime. |
| **`/etc`** | **Host-Specific System Configuration.** Configuration files for the system and installed applications (e.g., `/etc/passwd`, `/etc/fstab`). | Static, Persistent. |
| **`/home`** | **User Home Directories.** Personal directories for regular users, containing their files, profiles, and configurations. | Dynamic, Persistent. |
| **`/lib`, `/lib64`** | **Essential Shared Libraries.** Libraries needed by the binaries in `/bin` and `/sbin`. In RHEL 7+, symlinks to `/usr/lib` and `/usr/lib64`. | Static, Persistent. |
| **`/media`** | **Mount Point for Removable Media.** Automatic temporary mounts for CDs, USB drives, etc., created by the desktop environment. | Dynamic, Runtime/Persistent. |
| **`/mnt`** | **Temporary Mount Point.** A generic directory for system administrators to manually mount filesystems temporarily. | Dynamic, Runtime. |
| **`/opt`** | **Optional Application Software.** Self contained, add on software packages from third party vendors (e.g., Google Chrome, Oracle Java). | Static, Persistent. |
| **`/proc`** | **Process & Kernel Information.** A virtual filesystem (`procfs`) providing a window into kernel data structures and process information. Files are read from or written to to query/change kernel parameters. | Dynamic, Runtime. |
| **`/root`** | **Home directory for the `root` user.** | Dynamic, Persistent. |
| **`/run`** | **Runtime Variable Data.** A `tmpfs` filesystem for process specific data that should persist only while the system is running (e.g., PID files, socket files, lock files). Replaces `/var/run`. | Dynamic, Runtime. |
| **`/sbin`** | **System Administration Binaries.** Essential binaries for system administration, boot, and repair (e.g., `fsck`, `ip`, `init`). Typically requires `root` privileges. In RHEL 7+, a symlink to `/usr/sbin`. | Static, Persistent. |
| **`/srv`** | **Data for System Services.** Contains data served by the system (e.g., web pages for `/srv/www`, FTP files for `/srv/ftp`). | Dynamic, Persistent. |
| **`/tmp`** | **Temporary Files.** A world writable space for temporary files. On RHEL, mounted as `tmpfs` (in RAM); contents are **lost on reboot**. | Dynamic, Runtime. |
| **`/usr`** | **User Utilities & Applications (Secondary Hierarchy).** The main location for user commands, libraries, documentation, and read only program data for multi user operations. Should be shareable and read only in normal operation. | Static, Persistent. |
| **`/var`** | **Variable Data Files.** Contains data that is expected to grow and change during normal operation (e.g., logs in `/var/log`, mail queues in `/var/spool/mail`, database files, web content). | Dynamic, Persistent. |


*   **FHS(Filesystem Hierarchy Standard) Compliance:** RHEL and most distributions follow the FHS closely, ensuring predictability.
*   **RHEL 7+ Unification:** The `/bin`, `/sbin`, `/lib`, `/lib64` symlinks to `/usr` are a **Red Hat family specific** implementation for simplification.
*   **Virtual Filesystems:** `/dev`, `/proc`, `/sys` (not mentioned), and `/run` are virtual filesystems that exist only in memory, reflecting real time system state.
*   **Static vs. Variable:** `/boot`, `/etc`, `/usr`, `/opt` are largely static. `/home`, `/var`, `/srv` are variable and grow. `/tmp`, `/run`, `/dev` are volatile.
